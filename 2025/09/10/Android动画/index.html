
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>Android动画 | NaoJianghh</title>
    <meta name="author" content="脑浆糊" />
    <meta name="description" content="Welcome to My Blog" />
    <meta name="keywords" content="学习" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="NaoJianghh" type="application/atom+xml">
</head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>NAOJIANGHH</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;NAOJIANGHH</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>Android动画</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/9/10
        </span>
        
        <span class="category">
            <a href="/categories/Android/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                Android
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/kotlin-xml/" style="color: #00a596">
                    kotlin,xml
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <p> 在 Android Studio 中，常用的动画类型有逐帧动画、补间动画和属性动画，该文将详细介绍 </p>
<span id="more"></span>



<h3 id="逐帧动画（frame-by-frame-animation）"><a href="#逐帧动画（frame-by-frame-animation）" class="headerlink" title="逐帧动画（frame-by-frame animation）"></a>逐帧动画（frame-by-frame animation）</h3><ul>
<li><strong>原理</strong>：通过按顺序连续播放一系列预先定义好的图片（帧），从而形成动画效果，类似于传统的胶片动画 。</li>
<li><strong>实现方式</strong>：通常使用 XML 资源文件定义。在项目的<code>res/anim/</code>目录下创建 XML 文件，根元素为<code>animation-list</code> ，通过子节点定义每一帧的图片资源以及显示时长。例如：</li>
</ul>
<pre><code class="xml">&lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:oneshot=&quot;false&quot;&gt;
    &lt;item
        android:drawable=&quot;@drawable/frame1&quot;
        android:duration=&quot;100&quot; /&gt;
    &lt;item
        android:drawable=&quot;@drawable/frame2&quot;
        android:duration=&quot;100&quot; /&gt;
&lt;/animation-list&gt;
</code></pre>
<p>其中<code>android:oneshot</code>设为<code>false</code>表示循环播放，设为<code>true</code>则只播放一次。在代码中可以这样加载并应用逐帧动画：</p>
<pre><code class="kotlin">val frameAnimation = AnimationUtils.loadAnimation(context, R.anim.frame_animation)
</code></pre>
<ul>
<li><strong>应用场景</strong>：适合表现复杂、变化丰富的动画，比如游戏中的角色动作、Loading 动画等。但由于需要准备较多的图片资源，文件体积可能会较大，使用不当会占用较多内存。</li>
</ul>
<h3 id="补间动画（tweened-animation）"><a href="#补间动画（tweened-animation）" class="headerlink" title="补间动画（tweened animation）"></a>补间动画（tweened animation）</h3><ul>
<li><p><strong>原理</strong>：也被称为 View 视图动画，由系统根据两个关键帧定义的起始和结束状态，自动在中间插入额外的帧，生成平滑过渡效果。不过，补间动画只是改变了视图在视觉上的呈现效果，并不会改变视图的实际属性（比如点击事件的响应区域不会因为动画而改变 ），所以不太适合有事件交互的场景。</p>
</li>
<li><p>实现方式</p>
<p>：可以通过 Java 代码或者 XML 文件来实现，定义动画的 XML 文件通常存放在</p>
<pre><code>res/anim
</code></pre>
<p>目录下，通过</p>
<pre><code>AnimationUtils#loadAnimation
</code></pre>
<p>加载文件。补间动画可以实现以下几种常见的变换效果：</p>
<ul>
<li><strong>平移（Translate）</strong>：改变视图的位置，可通过指定<code>fromXDelta</code>、<code>toXDelta</code> 、<code>fromYDelta</code>、<code>toYDelta</code>等属性来设置在 X 轴和 Y 轴方向上的起始和结束位置。</li>
<li><strong>缩放（Scale）</strong>：改变视图的尺寸大小，能指定缩放中心点（<code>pivotX</code>、<code>pivotY</code> ）以及 X 和 Y 方向上的缩放比例（<code>fromXScale</code>、<code>toXScale</code>、<code>fromYScale</code>、<code>toYScale</code> ）。</li>
<li><strong>旋转（Rotate）</strong>：指定旋转中心点（<code>pivotX</code>、<code>pivotY</code> ）以及旋转的起始角度（<code>fromDegrees</code> ）和结束角度（<code>toDegrees</code> ）。</li>
<li><strong>透明度变化（Alpha）</strong>：控制视图的透明度从一个值变化到另一个值，通过<code>fromAlpha</code>和<code>toAlpha</code>设置起始和结束透明度 。</li>
</ul>
</li>
<li><p>插值器（Interpolator）</p>
<p>：用于控制动画的播放速度，比如：</p>
<ul>
<li><strong>AccelerateDecelerateInterpolator</strong>：先加速后减速，这是默认插值器。</li>
<li><strong>LinearInterpolator</strong>：线性插值器，使动画匀速播放。</li>
<li><strong>AccelerateInterpolator</strong>：加速插值器，动画开始时速度较慢，随后逐渐加快。</li>
<li><strong>DecelerateInterpolator</strong>：减速插值器，动画开始时速度较快，之后逐渐减慢。</li>
</ul>
</li>
<li><p><strong>应用场景</strong>：常用于实现一些简单的界面元素过渡效果，如元素的淡入淡出、位置移动、放大缩小等。</p>
</li>
</ul>
<h3 id="属性动画（property-animation）"><a href="#属性动画（property-animation）" class="headerlink" title="属性动画（property animation）"></a>属性动画（property animation）</h3><ul>
<li><p><strong>原理</strong>：是一个功能强大的框架，允许对几乎任何对象的属性进行动画操作，可以定义动画在指定时间内改变对象的任意属性值，无论该属性是否会绘制到屏幕上。例如，不仅可以对视图的位置、颜色等属性进行动画处理，还能对自定义对象的属性进行动画变化 。</p>
</li>
<li><p>实现方式：</p>
<p>一般通过<code>ObjectAnimator</code>或<code>ValueAnimator</code>来创建属性动画，也可以使用<code>AnimatorSet</code>将多个动画组合在一起，按一定顺序或同时播放。属性动画系统还可以定义以下特性：</p>
<ul>
<li><strong>持续时间（duration）</strong>：可以指定动画的持续时长，默认长度是 300 毫秒。</li>
<li><strong>时间插值（time interpolation）</strong>：可以选择系统提供的插值器，也能自定义插值器，来指定属性值如何根据动画当前经过的时间进行计算。</li>
<li><strong>重复次数和行为（repeat count and behavior）</strong>：可以设置动画在到达持续时间结束时是否重复，以及重复的次数，还能指定动画是否反向播放 。</li>
</ul>
</li>
<li><p><strong>动画集（animator sets）</strong>：将多个动画组合成逻辑组，这些动画可以一起播放、按顺序播放，或者在指定延迟后播放。</p>
</li>
<li><p><strong>帧刷新延迟（frame refresh delay）</strong>：指定动画帧刷新的频率，默认设置为每 10 毫秒刷新一次，但实际刷新速度取决于系统的繁忙程度以及底层定时器的服务速度。</p>
</li>
<li><p><strong>应用场景</strong>：适用于各种复杂的动画需求，比如动态改变控件的大小、位置、颜色等属性，实现更加流畅和自然的交互效果。同时，在一些自定义视图的动画实现中，属性动画也非常常用。</p>
</li>
</ul>
<h3 id="逐帧动画实例"><a href="#逐帧动画实例" class="headerlink" title="逐帧动画实例"></a>逐帧动画实例</h3><ol>
<li><strong>创建 XML 文件</strong>：在<code>res/anim</code>目录下创建<code>frame_animation.xml</code>文件，定义逐帧动画。</li>
</ol>
<pre><code class="xml">&lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:oneshot=&quot;false&quot;&gt;
    &lt;!-- 假设已经在drawable目录下准备好frame1.png、frame2.png等图片 --&gt;
    &lt;item
        android:drawable=&quot;@drawable/frame1&quot;
        android:duration=&quot;100&quot; /&gt;
    &lt;item
        android:drawable=&quot;@drawable/frame2&quot;
        android:duration=&quot;100&quot; /&gt;
&lt;/animation-list&gt;
</code></pre>
<ol>
<li><strong>在布局文件中添加 ImageView</strong>：在<code>activity_main.xml</code>中添加一个<code>ImageView</code>用于展示逐帧动画。</li>
</ol>
<pre><code class="xml">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    xmlns:tools=&quot;http://schemas.android.com/tools&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    tools:context=&quot;.MainActivity&quot;&gt;

    &lt;ImageView
        android:id=&quot;@+id/imageView&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_centerInParent=&quot;true&quot;/&gt;

&lt;/RelativeLayout&gt;
</code></pre>
<ol>
<li><strong>在代码中加载并播放动画</strong>：在<code>MainActivity.kt</code>中加载并播放逐帧动画。</li>
</ol>
<pre><code class="kotlin">import android.graphics.drawable.AnimationDrawable
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import kotlinx.android.synthetic.main.activity_main.*

class MainActivity : AppCompatActivity() &#123;
    override fun onCreate(savedInstanceState: Bundle?) &#123;
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val imageView = imageView
        val frameAnimation = imageView.drawable as AnimationDrawable
        frameAnimation.start()
    &#125;
&#125;
</code></pre>
<h3 id="补间动画实例"><a href="#补间动画实例" class="headerlink" title="补间动画实例"></a>补间动画实例</h3><ol>
<li><strong>创建平移动画的 XML 文件</strong>：在<code>res/anim</code>目录下创建<code>translate_animation.xml</code>文件，定义平移动画。</li>
</ol>
<pre><code class="xml">&lt;translate xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:fromXDelta=&quot;0&quot;
    android:toXDelta=&quot;300&quot;
    android:fromYDelta=&quot;0&quot;
    android:toYDelta=&quot;0&quot;
    android:duration=&quot;1000&quot;
    android:interpolator=&quot;@android:anim/accelerate_decelerate_interpolator&quot;/&gt;
</code></pre>
<ol>
<li><strong>在布局文件中添加 Button</strong>：在<code>activity_main.xml</code>中添加一个<code>Button</code>，用于触发动画。</li>
</ol>
<pre><code class="xml">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    xmlns:tools=&quot;http://schemas.android.com/tools&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    tools:context=&quot;.MainActivity&quot;&gt;

    &lt;Button
        android:id=&quot;@+id/button&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;点击触发动画&quot;
        android:layout_centerInParent=&quot;true&quot;/&gt;

&lt;/RelativeLayout&gt;
</code></pre>
<ol>
<li><strong>在代码中加载并播放动画</strong>：在<code>MainActivity.kt</code>中加载并播放补间动画。</li>
</ol>
<pre><code class="kotlin">import android.os.Bundle
import android.view.View
import android.view.animation.AnimationUtils
import androidx.appcompat.app.AppCompatActivity
import kotlinx.android.synthetic.main.activity_main.*

class MainActivity : AppCompatActivity() &#123;
    override fun onCreate(savedInstanceState: Bundle?) &#123;
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        button.setOnClickListener &#123;
            val animation = AnimationUtils.loadAnimation(this, R.anim.translate_animation)
            button.startAnimation(animation)
        &#125;
    &#125;
&#125;
</code></pre>
<h3 id="属性动画实例"><a href="#属性动画实例" class="headerlink" title="属性动画实例"></a>属性动画实例</h3><ol>
<li><strong>在布局文件中添加 Button</strong>：在<code>activity_main.xml</code>中添加一个<code>Button</code>，用于触发属性动画。</li>
</ol>
<pre><code class="xml">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    xmlns:tools=&quot;http://schemas.android.com/tools&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    tools:context=&quot;.MainActivity&quot;&gt;

    &lt;Button
        android:id=&quot;@+id/button&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;点击触发动画&quot;
        android:layout_centerInParent=&quot;true&quot;/&gt;

&lt;/RelativeLayout&gt;
</code></pre>
<ol>
<li><strong>在代码中创建并播放属性动画</strong>：在<code>MainActivity.kt</code>中使用<code>ObjectAnimator</code>创建属性动画，实现按钮的缩放效果。</li>
</ol>
<pre><code class="kotlin">import android.animation.ObjectAnimator
import android.os.Bundle
import android.view.View
import androidx.appcompat.app.AppCompatActivity
import kotlinx.android.synthetic.main.activity_main.*

class MainActivity : AppCompatActivity() &#123;
    override fun onCreate(savedInstanceState: Bundle?) &#123;
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        button.setOnClickListener &#123;
            val scaleXAnimator = ObjectAnimator.ofFloat(button, &quot;scaleX&quot;, 1f, 2f)
            val scaleYAnimator = ObjectAnimator.ofFloat(button, &quot;scaleY&quot;, 1f, 2f)
            scaleXAnimator.duration = 1000
            scaleYAnimator.duration = 1000
            val animatorSet = android.animation.AnimatorSet()
            animatorSet.play(scaleXAnimator).with(scaleYAnimator)
            animatorSet.start()
        &#125;
    &#125;
&#125;
</code></pre>

    </div>
    
    
    
    
    <div id="comment">
        <div id="giscus-container" class="giscus"></div>
    </div>
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 NaoJianghh
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;脑浆糊
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    
<script
    src="https://giscus.app/client.js"
    data-repo="naojianghh/naojianghh.github.io"
    data-repo-id="R_kgDON0mDmw"
    data-category="Announcements"
    data-category-id="DIC_kwDON0mDm84CoLx1"
    data-mapping="url"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    crossorigin
    async
></script>





    
</body>
<canvas
    id="fireworks"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
></canvas>
<script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script src="/js/fireworks.min.js"></script>

<canvas
    id="background"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"
></canvas>
<script src="/js/background.min.js"></script>
</html>

