
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>哈希表 | NaoJianghh</title>
    <meta name="author" content="脑浆糊" />
    <meta name="description" content="Welcome to My Blog" />
    <meta name="keywords" content="学习" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/avatar.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="NaoJianghh" type="application/atom+xml">
</head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>NAOJIANGHH</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;NAOJIANGHH</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>哈希表</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/11/7
        </span>
        
        <span class="category">
            <a href="/categories/%E7%AE%97%E6%B3%95/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                算法
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/c/" style="color: #ff7d73">
                    c++
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/" style="color: #00a596">
                    哈希表
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <p>哈希表（Hash Table），也叫散列表，是一种<strong>基于哈希函数</strong>实现的高效数据结构，核心目标是在 <strong>O (1) 平均时间复杂度</strong> 内完成插入、查找、删除操作，是工程中最常用的数据结构之一（例如 Java 的 HashMap、Python 的 dict、C++ 的 unordered_map 等底层均基于哈希表实现）。</p>
<span id="more"></span>

<h1 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h1><h2 id="一、哈希表的核心思想"><a href="#一、哈希表的核心思想" class="headerlink" title="一、哈希表的核心思想"></a>一、哈希表的核心思想</h2><p>哈希表的本质是 <strong>“键（Key）→ 值（Value）” 的映射</strong>，核心解决 “如何快速通过 Key 找到 Value” 的问题：</p>
<ol>
<li>传统数组：通过<strong>索引</strong>访问元素（O (1)），但索引是连续整数，无法直接映射非整数 Key（如字符串、对象）；</li>
<li>链表 &#x2F; 二叉搜索树：查找需遍历（O (n) 或 O (log n)），效率较低；</li>
<li>哈希表的方案：<ul>
<li>用<strong>哈希函数</strong>将任意类型的 Key 转换为一个整数（称为 “哈希值”）；</li>
<li>将哈希值映射为数组的索引（通过取模等操作）；</li>
<li>数组的该索引位置存储对应的 Value，实现 “Key→索引→Value” 的快速映射。</li>
</ul>
</li>
</ol>
<p>简单说：<strong>哈希函数是 “翻译官”，将 Key 翻译成数组能理解的索引；数组是 “存储容器”，直接通过索引存取数据</strong>。</p>
<h2 id="二、哈希表的核心组成"><a href="#二、哈希表的核心组成" class="headerlink" title="二、哈希表的核心组成"></a>二、哈希表的核心组成</h2><p>哈希表由 3 个核心部分构成：</p>
<table>
<thead>
<tr>
<th>组成部分</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>键（Key）</td>
<td>唯一标识（如用户名、ID），需支持哈希函数计算（不可变类型，如整数、字符串、元组）</td>
</tr>
<tr>
<td>哈希函数（Hash Function）</td>
<td>将 Key 转换为哈希值（整数），要求：① 相同 Key 必须得到相同哈希值；② 尽量分散不同 Key 的哈希值</td>
</tr>
<tr>
<td>哈希桶（Hash Bucket）</td>
<td>存储数据的数组（“桶” 即数组的每个元素位置），通过哈希值映射到桶的索引</td>
</tr>
</tbody></table>
<h3 id="1-哈希函数的设计原则"><a href="#1-哈希函数的设计原则" class="headerlink" title="1. 哈希函数的设计原则"></a>1. 哈希函数的设计原则</h3><p>哈希函数的质量直接决定哈希表的效率，需满足以下要求：</p>
<ul>
<li><strong>确定性</strong>：同一 Key 多次计算，哈希值必须相同（否则无法找到对应 Value）；</li>
<li><strong>高效性</strong>：计算过程简单，时间复杂度 O (1)（不能比查找本身更耗时）；</li>
<li><strong>均匀性</strong>：不同 Key 的哈希值尽量均匀分布在哈希桶的索引范围内（减少 “哈希冲突”）；</li>
<li><strong>抗碰撞性</strong>：尽量避免不同 Key 计算出相同哈希值（完全避免不可能，需后续解决）。</li>
</ul>
<h4 id="常见哈希函数示例"><a href="#常见哈希函数示例" class="headerlink" title="常见哈希函数示例"></a>常见哈希函数示例</h4><ul>
<li>整数 Key：直接用 Key 本身（或对桶数取模）；</li>
<li>字符串 Key：多项式哈希（如 <code>hash = s[0]*base^(n-1) + s[1]*base^(n-2) + ... + s[n-1]</code>，base 取 31&#x2F;127 等质数）；</li>
<li>对象 Key：结合对象的多个属性计算哈希值（如 Java 的 <code>hashCode()</code> 方法）。</li>
</ul>
<h3 id="2-哈希冲突（Hash-Collision）"><a href="#2-哈希冲突（Hash-Collision）" class="headerlink" title="2. 哈希冲突（Hash Collision）"></a>2. 哈希冲突（Hash Collision）</h3><h4 id="什么是哈希冲突？"><a href="#什么是哈希冲突？" class="headerlink" title="什么是哈希冲突？"></a>什么是哈希冲突？</h4><p>不同的 Key 通过哈希函数计算后，得到了<strong>相同的哈希值</strong>，进而映射到同一个哈希桶索引，这种情况称为哈希冲突。</p>
<p>例如：Key1 &#x3D; “abc”，Key2 &#x3D; “cba”，可能通过哈希函数计算后得到相同的哈希值，映射到同一个桶。</p>
<h4 id="为什么冲突无法避免？"><a href="#为什么冲突无法避免？" class="headerlink" title="为什么冲突无法避免？"></a>为什么冲突无法避免？</h4><p>根据 <strong>鸽巢原理</strong>：若哈希桶的数量为 M，待存储的 Key 数量为 N，当 N &gt; M 时，必然有至少两个 Key 映射到同一个桶。即使 N ≤ M，也可能因哈希函数的分布性不足导致冲突。</p>
<h3 id="3-哈希冲突的解决方法"><a href="#3-哈希冲突的解决方法" class="headerlink" title="3. 哈希冲突的解决方法"></a>3. 哈希冲突的解决方法</h3><p>工程中最常用的两种方案：<strong>链地址法（拉链法）</strong> 和 <strong>开放地址法</strong>。</p>
<h4 id="（1）链地址法（拉链法）——-最常用"><a href="#（1）链地址法（拉链法）——-最常用" class="headerlink" title="（1）链地址法（拉链法）—— 最常用"></a>（1）链地址法（拉链法）—— 最常用</h4><ul>
<li><strong>核心思路</strong>：每个哈希桶中存储一个链表（或红黑树），当冲突发生时，将冲突的 Key-Value 对加入到链表的尾部。</li>
<li><strong>查询过程</strong>：<ol>
<li>计算 Key 的哈希值 → 映射到桶索引；</li>
<li>遍历该桶的链表，对比每个节点的 Key（哈希值可能相同，但 Key 本身不同）；</li>
<li>找到匹配的 Key 则返回 Value，否则返回不存在。</li>
</ol>
</li>
<li><strong>优点</strong>：<ul>
<li>实现简单，冲突处理高效；</li>
<li>不会导致其他桶的占用（开放地址法可能出现 “聚集” 问题）；</li>
<li>负载因子（存储元素数 &#x2F; 桶数）可大于 1（链表可无限延伸，但效率会下降）。</li>
</ul>
</li>
<li><strong>优化</strong>：当链表长度超过阈值（如 Java HashMap 阈值为 8），会将链表转为红黑树，将查询时间复杂度从 O (k) 优化为 O (log k)（k 为链表长度）。</li>
</ul>
<h4 id="（2）开放地址法"><a href="#（2）开放地址法" class="headerlink" title="（2）开放地址法"></a>（2）开放地址法</h4><ul>
<li><strong>核心思路</strong>：当冲突发生时，不使用链表存储，而是在哈希桶数组中重新寻找一个 “空闲桶” 存储数据。</li>
<li><strong>常见探测方式</strong>：<ul>
<li>线性探测：冲突后依次检查下一个桶（<code>index+1, index+2, ...</code>），直到找到空闲桶；</li>
<li>二次探测：冲突后检查 <code>index+1², index-1², index+2², index-2², ...</code>（避免线性探测的 “聚集” 问题）；</li>
<li>双重哈希：使用第二个哈希函数计算探测步长（<code>step = hash2(Key)</code>），避免聚集。</li>
</ul>
</li>
<li><strong>优点</strong>：无需额外存储链表节点，空间利用率更高；</li>
<li><strong>缺点</strong>：<ul>
<li>会出现 “聚集现象”（多个冲突 Key 连续占用桶，导致后续插入 &#x2F; 查询需多次探测）；</li>
<li>负载因子不能太大（通常 ≤ 0.7），否则探测次数会急剧增加；</li>
<li>删除元素时不能直接置空（会破坏探测链），需标记为 “已删除”，增加复杂度。</li>
</ul>
</li>
</ul>
<h4 id="其他方案"><a href="#其他方案" class="headerlink" title="其他方案"></a>其他方案</h4><ul>
<li>再哈希法：冲突时使用另一个哈希函数重新计算哈希值，直到找到空闲桶；</li>
<li>公共溢出区：将所有冲突的元素统一存储到一个 “溢出桶” 中，查询时先查原桶，再查溢出桶。</li>
</ul>
<h2 id="三、哈希表的关键参数：负载因子"><a href="#三、哈希表的关键参数：负载因子" class="headerlink" title="三、哈希表的关键参数：负载因子"></a>三、哈希表的关键参数：负载因子</h2><h3 id="1-定义"><a href="#1-定义" class="headerlink" title="1. 定义"></a>1. 定义</h3><p>负载因子（Load Factor）&#x3D; 哈希表中存储的元素个数（N） &#x2F; 哈希桶的数量（M），即 <code>α = N/M</code>。</p>
<h3 id="2-作用"><a href="#2-作用" class="headerlink" title="2. 作用"></a>2. 作用</h3><p>负载因子是衡量哈希表 “拥挤程度” 的核心指标：</p>
<ul>
<li>α 越小：桶的空闲率越高，冲突概率越低，查询 &#x2F; 插入效率越高，但空间利用率低；</li>
<li>α 越大：桶的空闲率越低，冲突概率越高，查询 &#x2F; 插入效率越低（链表变长或探测次数增多）。</li>
</ul>
<h3 id="3-扩容机制"><a href="#3-扩容机制" class="headerlink" title="3. 扩容机制"></a>3. 扩容机制</h3><p>当负载因子超过阈值（工程中通常为 0.7），哈希表会自动进行 <strong>扩容</strong>：</p>
<ol>
<li>创建一个新的、容量更大的哈希桶数组（通常是原容量的 2 倍）；</li>
<li>重新计算所有原有元素的哈希值（因桶数变化，映射的索引会改变）；</li>
<li>将原有元素迁移到新的哈希桶中（该过程称为 “rehash”）。</li>
</ol>
<p>扩容的时间复杂度是 O (N)（需迁移所有元素），但因扩容是<strong>阶段性触发</strong>（平均每个元素只参与一次扩容），所以哈希表的平均时间复杂度仍为 O (1)。</p>
<h2 id="四、哈希表的时间复杂度"><a href="#四、哈希表的时间复杂度" class="headerlink" title="四、哈希表的时间复杂度"></a>四、哈希表的时间复杂度</h2><table>
<thead>
<tr>
<th>操作</th>
<th>平均时间复杂度</th>
<th>最坏时间复杂度（链地址法）</th>
<th>最坏时间复杂度（开放地址法）</th>
</tr>
</thead>
<tbody><tr>
<td>插入（put）</td>
<td>O(1)</td>
<td>O (k)（k 为链表长度，红黑树 O (log k)）</td>
<td>O (M)（桶满，需多次探测）</td>
</tr>
<tr>
<td>查找（get）</td>
<td>O(1)</td>
<td>O (k)（红黑树 O (log k)）</td>
<td>O(M)</td>
</tr>
<tr>
<td>删除（remove）</td>
<td>O(1)</td>
<td>O (k)（红黑树 O (log k)）</td>
<td>O(M)</td>
</tr>
</tbody></table>
<ul>
<li>最坏情况仅发生在：哈希函数设计极差（所有 Key 映射到同一个桶），或负载因子极大（未及时扩容）；</li>
<li>实际工程中，通过合理设计哈希函数和扩容机制，哈希表的操作基本接近 O (1)。</li>
</ul>
<h2 id="五、哈希表的应用场景"><a href="#五、哈希表的应用场景" class="headerlink" title="五、哈希表的应用场景"></a>五、哈希表的应用场景</h2><p>哈希表的核心优势是 “快速查找 &#x2F; 映射”，常见应用：</p>
<ol>
<li><strong>缓存系统</strong>：如 Redis（底层用哈希表 + 跳表），Key 是缓存键，Value 是缓存数据，实现 O (1) 存取；</li>
<li><strong>字典 &#x2F; 映射</strong>：如 Python 的 dict、Java 的 HashMap，存储键值对（如用户名→用户信息）；</li>
<li><strong>去重</strong>：如统计数组中不重复元素、日志去重，通过 Key 的唯一性快速判断元素是否已存在；</li>
<li><strong>哈希集合（HashSet）</strong>：基于哈希表实现，仅存储 Key（Value 为占位符），用于快速判断元素是否存在（如 Java 的 HashSet）；</li>
<li><strong>LRU 缓存</strong>：哈希表 + 双向链表实现，哈希表负责 O (1) 查找，双向链表负责维护访问顺序；</li>
<li><strong>计数统计</strong>：如统计字符串中字符出现次数（Key 是字符，Value 是次数）。</li>
</ol>
<h2 id="六、哈希表的优缺点"><a href="#六、哈希表的优缺点" class="headerlink" title="六、哈希表的优缺点"></a>六、哈希表的优缺点</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ol>
<li>平均时间复杂度 O (1)，效率极高；</li>
<li>支持任意类型的 Key（只要能计算哈希值）；</li>
<li>实现简单，工程中成熟易用（大部分语言内置哈希表类）。</li>
</ol>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ol>
<li>哈希函数设计不当会导致冲突频繁，效率下降；</li>
<li>扩容时会产生性能开销（rehash 过程）；</li>
<li>元素存储无序（哈希值映射是随机的，无法保证插入顺序）；</li>
<li>空间利用率较低（需预留空闲桶以减少冲突）。</li>
</ol>

    </div>
    
    
    
    
    <div id="comment">
        <div id="giscus-container" class="giscus"></div>
    </div>
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 NaoJianghh
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;脑浆糊
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    
<script
    src="https://giscus.app/client.js"
    data-repo="naojianghh/naojianghh.github.io"
    data-repo-id="R_kgDON0mDmw"
    data-category="Announcements"
    data-category-id="DIC_kwDON0mDm84CoLx1"
    data-mapping="url"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    crossorigin
    async
></script>





    
</body>
<canvas
    id="fireworks"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
></canvas>
<script src="https://s4.zstatic.net/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script src="/js/fireworks.min.js"></script>

<canvas
    id="background"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"
></canvas>
<script src="/js/background.min.js"></script>
</html>

